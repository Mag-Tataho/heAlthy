@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    font-family: 'DM Sans', system-ui, sans-serif;
    -webkit-font-smoothing: antialiased;
  }

  body {
    @apply bg-cream dark:bg-gray-950 text-gray-900 dark:text-gray-100 transition-colors duration-200;
  }

  h1, h2, h3 {
    font-family: 'Playfair Display', Georgia, serif;
  }

  * { box-sizing: border-box; }

  ::-webkit-scrollbar { width: 6px; }
  ::-webkit-scrollbar-track { @apply bg-sage-50 dark:bg-gray-900; }
  ::-webkit-scrollbar-thumb { @apply bg-sage-300 dark:bg-gray-600 rounded; }
}

@layer components {
  /* Buttons */
  .btn-primary {
    @apply bg-sage-600 hover:bg-sage-700 text-white font-medium px-5 py-2.5 rounded-xl transition-all duration-200 shadow-sm hover:shadow-md active:scale-95 disabled:opacity-60 disabled:cursor-not-allowed;
  }
  .btn-secondary {
    @apply bg-white dark:bg-gray-800 border border-sage-200 dark:border-gray-600 hover:border-sage-400 dark:hover:border-gray-400 text-sage-700 dark:text-gray-200 font-medium px-5 py-2.5 rounded-xl transition-all duration-200 hover:bg-sage-50 dark:hover:bg-gray-700;
  }
  .btn-ghost {
    @apply text-sage-600 dark:text-sage-400 hover:text-sage-800 dark:hover:text-sage-200 hover:bg-sage-100 dark:hover:bg-gray-800 px-4 py-2 rounded-lg transition-all duration-200;
  }

  /* Cards */
  .card {
    @apply bg-white dark:bg-gray-900 rounded-2xl shadow-sm border border-sage-100 dark:border-gray-800 p-6;
  }
  .card-hover {
    @apply card hover:shadow-md hover:border-sage-200 dark:hover:border-gray-700 transition-all duration-200 cursor-pointer;
  }

  /* Form elements */
  .input-field {
    @apply w-full px-4 py-3 rounded-xl border border-sage-200 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-sage-400 focus:border-transparent transition-all duration-200;
  }
  .label {
    @apply block text-sm font-medium text-sage-800 dark:text-gray-300 mb-1.5;
  }

  /* Badges */
  .badge-free {
    @apply inline-flex items-center gap-1 text-xs font-medium px-2.5 py-1 rounded-full bg-sage-100 dark:bg-sage-900 text-sage-700 dark:text-sage-300;
  }
  .badge-premium {
    @apply inline-flex items-center gap-1 text-xs font-medium px-2.5 py-1 rounded-full bg-amber-100 dark:bg-amber-900 text-amber-700 dark:text-amber-300;
  }

  /* Typography */
  .section-title {
    @apply font-display text-2xl font-semibold text-sage-900 dark:text-gray-100;
  }
}

/* Animations */
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(8px); }
  to   { opacity: 1; transform: translateY(0); }
}
@keyframes slideIn {
  from { opacity: 0; transform: translateX(-12px); }
  to   { opacity: 1; transform: translateX(0); }
}
@keyframes slideUp {
  from { opacity: 0; transform: translateY(20px); }
  to   { opacity: 1; transform: translateY(0); }
}
@keyframes pulse-subtle {
  0%, 100% { opacity: 1; }
  50%       { opacity: 0.7; }
}

.animate-fadeIn  { animation: fadeIn  0.3s ease-out forwards; }
.animate-slideIn { animation: slideIn 0.3s ease-out forwards; }
.animate-slideUp { animation: slideUp 0.4s ease-out forwards; }
.loading-pulse   { animation: pulse-subtle 1.5s ease-in-out infinite; }

.stagger-children > * {
  opacity: 0;
  animation: fadeIn 0.3s ease-out forwards;
}
.stagger-children > *:nth-child(1) { animation-delay: 0.05s; }
.stagger-children > *:nth-child(2) { animation-delay: 0.10s; }
.stagger-children > *:nth-child(3) { animation-delay: 0.15s; }
.stagger-children > *:nth-child(4) { animation-delay: 0.20s; }
.stagger-children > *:nth-child(5) { animation-delay: 0.25s; }
.stagger-children > *:nth-child(6) { animation-delay: 0.30s; }

/* Mobile safe areas */
.safe-area-top    { padding-top:    env(safe-area-inset-top); }
.safe-area-bottom { padding-bottom: env(safe-area-inset-bottom); }

/* Mobile tap highlight */
.bottom-nav-item { -webkit-tap-highlight-color: transparent; user-select: none; }

@media (max-width: 768px) { main { -webkit-overflow-scrolling: touch; } }
@supports (height: 100dvh) { .h-screen { height: 100dvh; } }

/* Dark mode cream background */
.bg-cream { background-color: #faf8f3; }
.dark .bg-cream { background-color: #030712; }
